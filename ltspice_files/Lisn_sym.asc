Version 4
SHEET 1 2000 928
WIRE 720 192 512 192
WIRE 816 192 720 192
WIRE 960 192 896 192
WIRE 1040 192 960 192
WIRE 960 208 960 192
WIRE 1040 208 1040 192
WIRE 720 224 720 192
WIRE 512 240 512 192
WIRE 512 240 480 240
WIRE 320 256 80 256
WIRE 80 272 80 256
WIRE 528 272 480 272
WIRE 320 304 272 304
WIRE 576 304 480 304
WIRE 672 304 608 304
WIRE 528 320 528 272
WIRE 720 320 528 320
WIRE 960 320 960 272
WIRE 960 320 720 320
WIRE 1040 320 1040 288
WIRE 1040 320 960 320
WIRE 512 336 480 336
WIRE 272 352 272 304
WIRE 272 352 80 352
WIRE 320 352 288 352
WIRE 576 352 576 304
WIRE 1040 352 1040 320
WIRE 1040 352 576 352
WIRE 512 368 480 368
WIRE 80 384 80 352
WIRE 288 384 288 352
WIRE 288 384 80 384
WIRE 608 400 608 304
WIRE 80 432 80 384
WIRE 608 512 608 480
FLAG 80 432 0
FLAG 608 512 0
SYMBOL voltage 80 256 R0
SYMATTR InstName V1
SYMATTR Value {Vg}
SYMBOL nmos 672 224 R0
SYMATTR InstName M1
SYMATTR Value Si7336ADP
SYMBOL voltage 608 384 R0
SYMATTR InstName V2
SYMATTR Value PULSE(0 40 0 0.05e-5 0.05e-5 {duty*Ts-0.05e-5} {Ts})
SYMBOL cap 944 208 R0
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL res 1024 192 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL ind 800 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMBOL CISPR16LISN 400 304 R0
SYMATTR InstName U1
TEXT 288 600 Left 2 !.tran 0 0.0015 0
TEXT 1256 -72 Left 2 ;Calculation of parameters follows from Erickson and Maksimovic book\nL = ((Vg-V)/(2 diL)) *D*Ts\nwhere: \n* dIL is the current ripple\n* Vg is the source voltage\n* V is the desired voltage\n* D is the duty cycle\n* Ts is the switching period\n\nC = diL*Ts/(8*dV),\nwhere:\n* diL is the current ripple\n* Ts is the switching period\n* dV is the voltage ripple
TEXT 168 -40 Left 2 !.param Vg=24\n.param Vdes=12\n.param diL=1\n.param duty=0.5\n.param Ts=1/20e3\n.param dV=0.1
TEXT 152 -80 Left 2 ;Parameters
TEXT 520 -48 Left 2 !.param L1={(Vg-Vdes)/(2*diL)*duty*Ts}\n.param C1={(diL*Ts)/(8*dV)}
TEXT 504 -96 Left 2 ;Calculated parameters
RECTANGLE Normal 148 -64 444 120 2
RECTANGLE Normal 504 -72 988 108 2
